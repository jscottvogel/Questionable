{"ast":null,"code":"var _jsxFileName = \"/home/fred/Questionable/questionable-client/src/AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport * as auth from \"./auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nfunction AuthProvider({\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [session, setSession] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const getCurrentUser = async () => {\n    try {\n      const user = await auth.getCurrentUser();\n      setUser(user);\n      const session = await auth.getSession();\n      setSession(session);\n    } catch (err) {\n      // not logged in\n      console.log(err);\n      setUser(null);\n      setSession(null);\n    }\n  };\n  useEffect(() => {\n    getCurrentUser().then(() => setIsLoading(false)).catch(() => setIsLoading(false));\n  }, []);\n  const signIn = async (username, password) => {\n    await auth.signIn(username, password);\n    await getCurrentUser();\n  };\n  const signOut = async () => {\n    await auth.signOut();\n    setUser(null);\n    setSession(null);\n  };\n  const authValue = {\n    user,\n    isLoading,\n    session,\n    signIn,\n    signOut\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthProvider, \"Yl2lwMA4bWsVQmRLJ5LDG17MM+I=\");\n_c = AuthProvider;\nexport { AuthProvider, AuthContext };\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","auth","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","user","setUser","session","setSession","isLoading","setIsLoading","getCurrentUser","getSession","err","console","log","then","catch","signIn","username","password","signOut","authValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/fred/Questionable/questionable-client/src/AuthContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\"\nimport * as auth from \"./auth\"\n\nconst AuthContext = createContext()\n\nfunction AuthProvider( { children } ) {\n    const [ user, setUser ] = useState( null );\n    const [ session, setSession ] = useState( null );\n    const [ isLoading, setIsLoading ] = useState( true );\n\n    const getCurrentUser = async () => {\n        try {\n            const user = await auth.getCurrentUser();\n            setUser( user );\n            const session = await auth.getSession();\n            setSession( session );\n        } catch ( err ) {\n            // not logged in\n            console.log( err );\n            setUser( null );\n            setSession( null );\n        }\n    }\n\n    useEffect( () => {\n        getCurrentUser()\n            .then( () => setIsLoading( false ) )\n            .catch( () => setIsLoading( false ) )\n    }, [] )\n\n    const signIn = async ( username, password ) => {\n        await auth.signIn( username, password )\n        await getCurrentUser();\n    }\n    const signOut = async () => {\n        await auth.signOut();\n        setUser( null );\n        setSession( null );\n    }\n\n    const authValue = {\n        user,\n        isLoading,\n        session,\n        signIn,\n        signOut,\n    }\n\n    return (\n        <AuthContext.Provider value={ authValue }>{ children }</AuthContext.Provider>\n    )\n}\n\nexport { AuthProvider, AuthContext }"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAO,KAAKC,IAAI,MAAM,QAAQ;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,SAASO,YAAYA,CAAE;EAAEC;AAAS,CAAC,EAAG;EAAAC,EAAA;EAClC,MAAM,CAAEC,IAAI,EAAEC,OAAO,CAAE,GAAGV,QAAQ,CAAE,IAAK,CAAC;EAC1C,MAAM,CAAEW,OAAO,EAAEC,UAAU,CAAE,GAAGZ,QAAQ,CAAE,IAAK,CAAC;EAChD,MAAM,CAAEa,SAAS,EAAEC,YAAY,CAAE,GAAGd,QAAQ,CAAE,IAAK,CAAC;EAEpD,MAAMe,cAAc,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACA,MAAMN,IAAI,GAAG,MAAMP,IAAI,CAACa,cAAc,CAAC,CAAC;MACxCL,OAAO,CAAED,IAAK,CAAC;MACf,MAAME,OAAO,GAAG,MAAMT,IAAI,CAACc,UAAU,CAAC,CAAC;MACvCJ,UAAU,CAAED,OAAQ,CAAC;IACzB,CAAC,CAAC,OAAQM,GAAG,EAAG;MACZ;MACAC,OAAO,CAACC,GAAG,CAAEF,GAAI,CAAC;MAClBP,OAAO,CAAE,IAAK,CAAC;MACfE,UAAU,CAAE,IAAK,CAAC;IACtB;EACJ,CAAC;EAEDX,SAAS,CAAE,MAAM;IACbc,cAAc,CAAC,CAAC,CACXK,IAAI,CAAE,MAAMN,YAAY,CAAE,KAAM,CAAE,CAAC,CACnCO,KAAK,CAAE,MAAMP,YAAY,CAAE,KAAM,CAAE,CAAC;EAC7C,CAAC,EAAE,EAAG,CAAC;EAEP,MAAMQ,MAAM,GAAG,MAAAA,CAAQC,QAAQ,EAAEC,QAAQ,KAAM;IAC3C,MAAMtB,IAAI,CAACoB,MAAM,CAAEC,QAAQ,EAAEC,QAAS,CAAC;IACvC,MAAMT,cAAc,CAAC,CAAC;EAC1B,CAAC;EACD,MAAMU,OAAO,GAAG,MAAAA,CAAA,KAAY;IACxB,MAAMvB,IAAI,CAACuB,OAAO,CAAC,CAAC;IACpBf,OAAO,CAAE,IAAK,CAAC;IACfE,UAAU,CAAE,IAAK,CAAC;EACtB,CAAC;EAED,MAAMc,SAAS,GAAG;IACdjB,IAAI;IACJI,SAAS;IACTF,OAAO;IACPW,MAAM;IACNG;EACJ,CAAC;EAED,oBACIrB,OAAA,CAACC,WAAW,CAACsB,QAAQ;IAACC,KAAK,EAAGF,SAAW;IAAAnB,QAAA,EAAGA;EAAQ;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAwB,CAAC;AAErF;AAACxB,EAAA,CA9CQF,YAAY;AAAA2B,EAAA,GAAZ3B,YAAY;AAgDrB,SAASA,YAAY,EAAED,WAAW;AAAE,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}